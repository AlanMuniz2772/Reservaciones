<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script defer src="renderer.js"></script>
  <script src="https://unpkg.com/@tailwindcss/browser@4"></script>

  <title>Reservaciones - Inicio de Sesión</title>

  <style>
    /* Ocultar flechas en inputs de tipo number */
    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

  </style>
</head>

<body>
  <div class="flex flex-col items-center justify-center px-6 pt-8 mx-auto md:h-screen pt:mt-0 bg-gray-900">
    <div class="flex items-center justify-center mb-8 text-2xl font-semibold lg:mb-10 text-white">
      <span>Reservaciones</span>  
    </div>
        
    <!-- Card -->
    <div class="w-full max-w-xl p-6 space-y-8 sm:p-8 rounded-lg shadow bg-gray-800">
      <h2 class="text-2xl font-bold text-white">Inicio de Sesión</h2>
      
      <form id="loginForm" class="mt-8 space-y-6">
        <div>
          <label for="email" class="block mb-2 text-sm font-medium text-white">Id</label>
          <input 
            type="number" 
            name="email" 
            id="id_empleado" 
            maxlength="30" 
            class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-primary-500 focus:border-primary-500" 
            placeholder="12345" 
            required 
            autofocus
          >
        </div>

        <div>
          <label for="password" class="block mb-2 text-sm font-medium text-white">Contraseña</label>
          <input 
            type="password" 
            name="password" 
            id="password" 
            placeholder="••••••••"  
            maxlength="30" 
            class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-primary-500 focus:border-primary-500" 
            required
          >
        </div>
        
        <button 
          type="submit"
          id="loginBtn" 
          class="w-full px-5 py-3 text-base font-medium text-center text-white rounded-lg focus:ring-4 sm:w-auto bg-blue-600 hover:bg-blue-700 focus:ring-blue-800">
          Ingresa
        </button>
      </form>

      <p id="errorMsg" class="text-red-500 text-sm mt-2 hidden">Usuario o contraseña incorrectos</p>
    </div>
  </div>

</body>
</html>

<script>
  // Detectar Enter y pasar al siguiente input
  const form = document.getElementById("loginForm");
  const inputs = form.querySelectorAll("input");

  

  inputs.forEach((input, index) => {
    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();  // Evita el envío automático del formulario
        const nextInput = inputs[index + 1];
        if (nextInput) {
          nextInput.focus();
          } else if (Array.from(inputs).every(input => input.value.trim() !== "")) {
            const id = document.getElementById('id_empleado').value;
            const password = document.getElementById('password').value;
            window.login(id, password);
          }
      }
    });
  });

  window.handleLoginError = function(message) {
  const errorMsg = document.getElementById('errorMsg');
  errorMsg.classList.remove('hidden');
  };

</script>